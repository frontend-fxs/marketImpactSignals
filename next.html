<script>

    var eventDateId = "5f64264e-5097-4359-b60f-fb9b01229068";
    var datagtmidVar = "ecocalsignals-16";
    var signalsTitle = "US GDP Annualized";

    var signalsGTM = {
        day: 28,
        month: 3,
        year: 2018,
        hour: 16,
        minute: 00
    };

    var signalsActualBase = false;

    var signalsPositiveTriggerActual = 15;
    var signalsNegativeTriggerActual = -14.3;

    var signalsActualPrefix = "";
    var signalsActualSuffix = "%";

    var signalsDecimals = 4;

</script>
<style>
    .marquetImpactSignals .fxs_subsectionTitle {
        display: block;
        width: 100%;
        padding: 5px 15px;
        margin: 0;
        background-color: #8c8d91;
        color: white;
        font-weight: normal;
        text-transform: none;
        font-style: normal;
    }

        .marquetImpactSignals .fxs_subsectionTitle a {
            color: white;
        }

    .marquetImpactSignals .fxs_trigger {
        background-color: #f6dbc4;
    }

    .marquetImpactSignals .fa-chevron-right {
        color: #338473;
    }

    .marquetImpactSignals .fa-chevron-left {
        color: #d25746;
    }

    .marquetImpactSignals .fxs_col_20 {
        width: 20%;
        float: left;
        text-align: center;
    }


    .marquetImpactSignals .fxs_bodyDataRow {
        position: relative;
    }

        .marquetImpactSignals .fxs_bodyDataRow .fxs_overlay {
            position: absolute;
            left: 20%;
            top: 0;
            width: 60%;
            background-color: #F0F0F1;
            overflow: hidden;
        }
</style>
<div class="fxs_hidden_s marquetImpactSignals">
    <!--Header with Link appears everywhere except on ecocal-->
    <h3 class="fxs_subsectionTitle" id="signalsTitleCalendarLink">
        <span class="fxs_fleft">
            <i>
                <a href="https://www.fxstreet.com/economic-calendar" class="datagtmidClass">
                    <strong id="signalsTitleId"></strong>
                </a>
                <span> in </span>
                <span id="signalsCountDownId"></span>
            </i>
        </span>
        <span class="fxs_fRight">
            <strong>
                <span>Actual:</span>
                <span id="signalsActualId"></span>
            </strong>
        </span>
    </h3>
    <!--Header with Link appears everywhere except on ecocal-->
    <!--Header without Link appears only on ecocal-->
    <h3 class="fxs_subsectionTitle fxs_hideElements" id="signalsTitleWithoutLink">
        <span class="fxs_fleft">
            <i>
                <strong id="signalsTitleId"></strong>
                <span id="signalsCountDownId"></span>
                <span> minutes </span>
            </i>
        </span>
        <span class="fxs_fRight">
            <strong>
                <span>Actual:</span>
                <span id="signalsActualId"></span>
            </strong>
        </span>
    </h3>
    <!--Header without Link appears only on ecocal-->

    <div class="fxs_col_100 fxs_head">

        <div class="fxs_col_20">
            TRIGGER
        </div>
        <div class="fxs_col_20">
            <strong>ENTRY POINT</strong>
        </div>
        <div class="fxs_col_20">
            <strong>STOP LOSS</strong>
        </div>
        <div class="fxs_col_20">
            <strong>TAKE PROFFIT</strong>
        </div>
        <div class="fxs_col_20"></div>

    </div>

    <div class="fxs_bodyData">
        <div class="fxs_bodyDataRow fxs_col_100">
            <div class="fxs_col_20">
                <span class="fa fa-chevron-right"></span>
                <span id="signalsPositiveTriggerActualId"></span>
            </div>
            <div class="fxs_col_20">14.2134</div>
            <div class="fxs_col_20">14.2134</div>
            <div class="fxs_col_20">14.2134</div>
            <div class="fxs_col_20">
                <button>
                    Sell
                </button>
            </div>
            <div class="fxs_overlay">
                Show Signal Values
                <span class="fa fa-chevron-circle-right"></span>
            </div>
        </div>
        <div class="fxs_bodyDataRow fxs_col_100">
            <div class="fxs_col_20">
                <span class="fa fa-chevron-left"></span>
                <span id="signalsNegativeTriggerActualId"></span>
            </div>
            <div class="fxs_col_20">14.2134</div>
            <div class="fxs_col_20">14.2134</div>
            <div class="fxs_col_20">14.2134</div>
            <div class="fxs_col_20">
                <button>
                    Buy
                </button>
            </div>
            <div class="fxs_overlay">
                Show Signal Values
                <span class="fa fa-chevron-circle-right"></span>
            </div>
        </div>
    </div>
</div>

<script>

    document.getElementById('signalsTitleId').innerHTML = signalsTitle;
    if (signalsActualBase) {
        signalsActual = signalsActualPrefix + signalsActualBase + signalsActualSuffix;
        document.getElementById("signalsActualId").innerHTML = signalsActual;
    } else {
        document.getElementById("signalsActualId").innerHTML = "?";
    }


    document.getElementById("signalsPositiveTriggerActualId").innerHTML = signalsPositiveTriggerActual;
    document.getElementById("signalsNegativeTriggerActualId").innerHTML = signalsNegativeTriggerActual;




    var datagtmidArr = document.getElementsByClassName("datagtmidClass");
    for (var i = 0;
        i < datagtmidArr.length;
        i++) {
        var datagtmid = datagtmidArr[i];
        datagtmid.setAttribute("data-gtmid", datagtmidVar);
    }

    if (window.location.pathname == "/economic-calendar") {
        document.getElementById('signalsTitleCalendarLink').classList.add('fxs_hideElements');
        document.getElementById('signalsTitleWithoutLink').classList.remove('fxs_hideElements');
    }
    // end update data

    var signalsEventDateObj = new Date(signalsGTM.year, (signalsGTM.month - 1), signalsGTM.day, signalsGTM.hour, signalsGTM.minute);

    updateCountDown = function () {
        var now = new Date();
        var eventMilliseconds = signalsEventDateObj.getTime();
        var nowMilliseconds = now.getTime();
        var millisecondsDiff = eventMilliseconds - nowMilliseconds;
        console.log(eventMilliseconds);
        console.log(nowMilliseconds);
        console.log(millisecondsDiff);
        var minutesDiff = parseInt(millisecondsDiff / 60000);
        if (minutesDiff > 0) {
            document.getElementById('signalsCountDownId').innerHTML = " in " + minutesDiff + " minutes";
        } else {
            document.getElementById('signalsCountDownId').innerHTML = "Going";
        }
    }

    updateCountDown();

    setInterval(updateCountDown, 60000);

</script>
