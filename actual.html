<script>

    var eventDateId = '5f64264e-5097-4359-b60f-fb9b01229068';
    var datagtmidVar="ecocalsignals-15"
    var signalsTitle = "US GDP Annualized";
    var signalsAsset = "EUR/USD";
    var signalsGTM = "12:30";
    var signalsStandardDeviation = "?";
    var signalsPositiveTriggerDeviation = 0.37;
    var signalsNegativeTriggerDeviation = -0.51;
    var signalsActualBase = false;
    var signalsActualPrefix = "";
    var signalsActualSuffix = "%";
    var signalsPositiveTriggerActual = 0.1;
    var signalsNegativeTriggerActual = -0.1;
    var signalsConsensus = 2.7;
    var signalsResistance = 1.2420;
    var signalsSupport = 1.2360;
    var signalsFeatured = "If US GDP Annualized comes out at higher than expected with a deviation of +0,37 or higher, the pair may go down reaching a range of 41 pips in the first 15 minutes and 83 pips in the following 4 hours. If it comes out lower than expected at a deviation of -0,51 or less, the EUR/USD may up reaching a range of 36 pips in the first 15 minutes and 74 pips in the following 4 hours.";

    var signalsDescription = [
        "In the last five releases, the EUR/USD moved, on average, 19 pips in the 15 minutes after the release and 51 pips in the 4 hours after the release.",
        "The previous release had no surprise in terms of deviation.",
        "If US GDP Annualized comes out at higher than expected with a deviation of +0,37 or higher, the pair may go down reaching a range of 41 pips in the first 15 minutes and 83 pips in the following 4 hours. If it comes out lower than expected at a deviation of -0,51 or less, the EUR/USD may up reaching a range of 36 pips in the first 15 minutes and 74 pips in the following 4 hours",
        "On the upside, there are clusters of resistance at 1.2420 and 1.2445. Support levels are to be found approximately at 1.2330 and 1.2260 accordingly to the Confluence Indicator.",
        "From a positioning perspective, supply is noted at 1.2450 and above.1.2555. Vestiges of demand can be seen around 1.2320 and below at 1.2280, based on aggregated trading positions from FXStreet's dedicated contributors.",
        "Only 20% of EUR-based pairs are in bullish mode against a basket of 20 world currencies accordingly to the EUR-Bullish Percentage Index. As such, a release which surprises the market with a negative trigger (USD negative) may lead to a stronger up move in the EUR/USD."
    ];

    var signalsPositiveTriggerLabel = "[SELL " + signalsAsset + "]";
    var signalsNegativeTriggerLabel = "[BUY " + signalsAsset + "]";

    var millisecondsToWait = 1000;

</script>
<style>
    .marquetImpactSignals .fxs_subsectionTitle {
        display: block;
        width: 100%;
        padding: 5px 15px;
        margin: 0;
        background-color: #8c8d91;
        color: white;
    }

    .marquetImpactSignals .fxs_subsectionTitle a {
        color: white;
    }

    .marquetImpactSignals .fxs_bordered_container {
        border: 2px solid #8c8d91;
        padding: 5px;
    }

        .marquetImpactSignals .fxs_bordered_container .fxs_headCell {
            float: left;
            border: 1px solid #dddedf;
            background-color: #f3f3f8;
        }

            .marquetImpactSignals .fxs_bordered_container .fxs_headCell.fxs_trigger {
                background-color: #f6dbc4;
            }

            .marquetImpactSignals .fxs_bordered_container .fxs_headCell p {
                text-align: center;
                margin: 0;
                font-weight: 700;
                line-height: 3rem;
                font-size: 0.8rem;
            }

        .marquetImpactSignals .fxs_bordered_container blockquote {
            margin-top: 5rem;
            padding-bottom: 0;
            margin-bottom: 0;
        }

            .marquetImpactSignals .fxs_bordered_container blockquote p {
                margin-bottom: 0;
            }

        .marquetImpactSignals .fxs_bordered_container .fxs_col_50 {
            padding: 1rem 0;
        }

            .marquetImpactSignals .fxs_bordered_container .fxs_col_50.fxs_trigger {
                background-color: #f6dbc4;
            }

            .marquetImpactSignals .fxs_bordered_container .fxs_col_50 p {
                text-align: center;
                margin-bottom: 0;
                font-size: 0.9rem;
            }

                .marquetImpactSignals .fxs_bordered_container .fxs_col_50 p .fa-chevron-right {
                    color: #338473;
                }

                .marquetImpactSignals .fxs_bordered_container .fxs_col_50 p .fa-chevron-left {
                    color: #d25746;
                }

                .marquetImpactSignals .fxs_bordered_container .fxs_col_50 p .fxs_deviation {
                    font-size: 1.6rem;
                    font-weight: 400;
                    position: relative;
                    bottom: -0.2rem;
                    margin: 0 10px;
                }

        .marquetImpactSignals .fxs_bordered_container .collapse {
            margin-top: 0;
        }

            .marquetImpactSignals .fxs_bordered_container .collapse .fxs_content_panel.fxs_entryPlain_txt_small {
                padding-top: 2rem;
                margin-bottom: 0;
                width: 100%;
                float: left;
            }

                .marquetImpactSignals .fxs_bordered_container .collapse .fxs_content_panel.fxs_entryPlain_txt_small .fxs_col_50 p {
                    text-align: center;
                    margin-bottom: 1.5rem;
                }

                    .marquetImpactSignals .fxs_bordered_container .collapse .fxs_content_panel.fxs_entryPlain_txt_small .fxs_col_50 p .fxs_deviation {
                        font-size: 1.6rem;
                        font-weight: 400;
                        position: relative;
                        bottom: -0.2rem;
                    }

        .marquetImpactSignals .fxs_bordered_container .fxs_btn_content_toggle:hover,
        .marquetImpactSignals .fxs_bordered_container .fxs_btn_content_toggle.active {
            color: white;
        }

        .marquetImpactSignals .fxs_bordered_container .fxs_btn_content_toggle .fxs_togglebtn_txt {
            font-size: 1rem;
        }
</style>

<div class="fxs_hidden_s marquetImpactSignals">
    <h3 class="fxs_subsectionTitle" id="signalsTitleCalendarLink">
        <a href="https://www.fxstreet.com/economic-calendar" class="datagtmidClass">
            Trading opportunities
            <span class="fa fa-angle-double-right"></span>
        </a>
    </h3>
    <h3 class="fxs_subsectionTitle fxs_hideElements" id="signalsTitleWithoutLink">
        Trading opportunities
    </h3>
    <div class="fxs_col_100 fxs_bordered_container">
        <div style="width:24%;" class="fxs_headCell">
            <p id="signalsTitleId"></p>
        </div>
        <div style="width:16%;" class="fxs_headCell">
            <p>GMT: <span id="signalsGTMId"></span></p>
        </div>
        <div style="width:18%;" class="fxs_headCell" id="deviationId">
            <p>
                Deviation: <span id="signalsStandardDeviationId"></span>
            </p>
        </div>
        <div style="width:22%;" class="fxs_headCell" id="actualId">
            <p>
                Actual:
                <span class="signalsActualPrefixClass"></span>
                <span id="signalsActualId"></span>
                <span class="signalsActualSuffixClass"></span>
            </p>
        </div>
        <div style="width:20%;" class="fxs_headCell">
            <p>
                Consensus: <span id="signalsConsensusId"></span>%
            </p>
        </div>
        <blockquote>
            <p id="signalsFeaturedId"></p>
        </blockquote>
        <div class="fxs_col_100">
            <div class="fxs_col fxs_col_50" id="signalsPositiveTriggerId">
                <p>
                    <em>
                        Positive Trigger <span id="signalsPositiveTriggerLabelId"></span>
                    </em>
                    <br />
                    <span class="fa fa-chevron-right"></span>
                    <span class="fxs_deviation">
                        +<span id="signalsPositiveTriggerDeviationId"></span>
                    </span>
                    <span>
                        Dev
                        <!--|
    </span>
    <span class="fxs_deviation">
        <span class="signalsActualPrefixClass"></span>
        <span id="signalsPositiveTriggerActualId"></span>
        <span class="signalsActualSuffixClass"></span>
    </span>-->
</p>
            </div>
            <div class="fxs_col fxs_col_50" id="signalsNegativeTriggerId">
                <p>
                    <em>
                        Negative Trigger <span id="signalsNegativeTriggerLabelId"></span>
                    </em>
                    <br />
                    <span class="fa fa-chevron-left">
                    </span>
                    <span class="fxs_deviation" id="signalsNegativeTriggerDeviationId"></span>
                    <span>
                        Dev
                        <!--|
    </span>
    <span class="fxs_deviation">
        <span class="signalsActualPrefixClass"></span>
        <span id="signalsNegativeTriggerActualId"></span>
        <span class="signalsActualSuffixClass"></span>
    </span>-->
</p>
            </div>
        </div>
        <div class="collapse" id="collapseExample" aria-expanded="false">
            <div class="fxs_content_panel fxs_entryPlain_txt_small">
                <div class="fxs_col fxs_col_50">
                    <p>
                        <em>
                            Key <span class="signalsAssetClass"></span> Resistance Level
                        </em>
                        <br />
                        <span class="fxs_deviation" id="signalsResistanceId">
                            1.4170
                        </span>
                    </p>
                </div>
                <div class="fxs_col fxs_col_50">
                    <p>
                        <em>
                            Key <span class="signalsAssetClass"></span> Support Level
                        </em>
                        <br />
                        <span class="fxs_deviation" id="signalsSupportId">
                            1.4082
                        </span>
                    </p>
                </div>
                <div id="signalsDescriptionId"></div>
            </div>
        </div>
        <button type="button" class="fxs_btn fxs_btn_content_toggle fxs_btn_content_toggle_collapse fxs_btn_block btn collapsed fxs_btn_cta" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample" style="margin:0;">
            <span class="fxs_togglebtn_txt init_txt datagtmidClass">
                Check Entry Points
                <span class="fa fa-chevron-down"> </span>
            </span>
            <span class="fxs_togglebtn_txt toggled_txt datagtmidClass">
                Hide content
                <span class="fa fa-chevron-up"> </span>
            </span>
        </button>
    </div>
</div>
<script>

    // Update data

    document.getElementById('signalsTitleId').innerHTML = signalsTitle;
    document.getElementById('signalsGTMId').innerHTML = signalsGTM;
    document.getElementById("signalsStandardDeviationId").innerHTML = signalsStandardDeviation;
    document.getElementById("signalsConsensusId").innerHTML = signalsConsensus;

    if (signalsActualBase) {
        signalsActual = signalsActualPrefix + signalsActualBase + signalsActualSuffix;
        document.getElementById("signalsActualId").innerHTML = signalsActual;
    } else {
        document.getElementById("signalsActualId").innerHTML = "?";

    }

    document.getElementById("signalsFeaturedId").innerHTML = signalsFeatured;

    document.getElementById("signalsPositiveTriggerDeviationId").innerHTML = signalsPositiveTriggerDeviation;
    document.getElementById("signalsPositiveTriggerLabelId").innerHTML = signalsPositiveTriggerLabel;
    //document.getElementById("signalsPositiveTriggerActualId").innerHTML = signalsPositiveTriggerActual;

    document.getElementById("signalsNegativeTriggerDeviationId").innerHTML = signalsNegativeTriggerDeviation;
    document.getElementById("signalsNegativeTriggerLabelId").innerHTML = signalsNegativeTriggerLabel;
    //document.getElementById("signalsNegativeTriggerActualId").innerHTML = signalsNegativeTriggerActual;

    document.getElementById("signalsResistanceId").innerHTML = signalsResistance.toFixed(4).toString();
    document.getElementById("signalsSupportId").innerHTML = signalsSupport.toFixed(4).toString();

    document.getElementById("signalsDescriptionId").innerHTML = "";
    for (var i = 0; i < signalsDescription.length; i++) {
        document.getElementById("signalsDescriptionId").innerHTML += "<p>" + signalsDescription[i] + "</p>";
    }


    var signalsAssetArr = document.getElementsByClassName("signalsAssetClass");
    for (var i = 0; i < signalsAssetArr.length; i++) {
        var asset = signalsAssetArr[i];
        asset.innerHTML = signalsAsset;
    } 

    var datagtmidArr = document.getElementsByClassName("datagtmidClass");
    for (var i = 0; i < datagtmidArr.length; i++) {
        var datagtmid = datagtmidArr[i];
        datagtmid.setAttribute("data-gtmid", datagtmidVar);
    } 

    if (window.location.pathname == "/economic-calendar") {
        document.getElementById('signalsTitleCalendarLink').classList.add('fxs_hideElements');
        document.getElementById('signalsTitleWithoutLink').classList.remove('fxs_hideElements');
    }

    // end update data

    // push deviation and actual

    setTimeout(function () {
        console.log("Starting..");
        var config = {
            tokenUrl: "https://authorization-qa-i3.azurewebsites.net/token",
            httpPushServerUrl: "https://httppush-qa.fxstreet.com/signalr/hubs",
            culture: "en-US"
        };
        var push = FXStreetPush.PushNotification.getInstance(config);
        var SetStandardDeviationAndBoundaries = function (data) {
            console.log(data);
            if (data.EventDateId == eventDateId) {
                document.getElementById("signalsStandardDeviationId").innerHTML = data.StandardDeviation;
                document.getElementById("signalsActualId").innerHTML = data.Actual;
                document.getElementById("deviationId").classList.add('fxs_trigger');
                document.getElementById("actualId").classList.add('fxs_trigger');
                if (parseFloat(data.StandardDeviation) < signalsNegativeTriggerDeviation)
                    document.getElementById("signalsNegativeTriggerId").classList.add('fxs_trigger');
                if (parseFloat(data.StandardDeviation) > signalsPositiveTriggerDeviation)
                    document.getElementById("signalsPositiveTriggerId").classList.add('fxs_trigger');
            }
        };
        push.marketImpactSubscribe(SetStandardDeviationAndBoundaries);
    }, millisecondsToWait);

    // end push deviation and actual

</script>